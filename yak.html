<!doctype html>
<html>
<head>
  <script>
    (function(){
      var lang = localStorage.getItem("yagel_lang") || "en";
      document.documentElement.setAttribute("data-lang", lang);
      document.documentElement.lang = lang;
    })();
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>yagel.nl - radio</title>
  <meta name="description" content="DJ mixes en radio shows van YAK." />

  <!-- shared styling (your renamed file) -->
  <link rel="stylesheet" href="styling.css" />

  <!-- fonts (same as home) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* keep everything in the home vibe; only add a mosaic layout + embed sizing */

    main.grid.mosaic{
      grid-template-columns: repeat(6, 1fr);
      grid-auto-flow: dense;
      gap: 18px;
    }

    /* embed block inside a card */
    .embed{
      margin-top: 12px;
      border-top: 1px solid var(--softline);
      padding-top: 12px;
    }
    .embed iframe{
      width: 100%;
      border: 0;
      display:block;
      background: transparent;
    }

    /* SoundCloud player heights */
    .sc-h-sm iframe{ height: 166px; }
    .sc-h-md iframe{ height: 240px; }
    .sc-h-lg iframe{ height: 320px; }

    /* description text */
    .desc{
      margin-top: 10px;
      font-size: 12px;
      line-height: 1.6;
      color: var(--muted);
      font-family: var(--font-mono);
      letter-spacing: 0.02em;
      text-transform: none;
    }

    /* make cards that contain players feel like "objects" but stay in style */
    .card.player{
      justify-content:flex-start;
      min-height: 0;
    }

    /* responsive: revert to 1 column like home */
    @media (max-width: 760px){
      main.grid.mosaic{ grid-template-columns: 1fr; }
      .span-2, .span-3, .span-4, .row-1, .row-2{ grid-column: auto; grid-row: auto; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="topbar" aria-label="Taal kiezen">
        <button class="lang-btn" type="button" data-lang="nl" aria-pressed="true">nl</button>
        <button class="lang-btn" type="button" data-lang="en" aria-pressed="false">en</button>
      </div>

      <div class="name">
        <a href="home.html" data-i18n="name">YA'GEL SCHOONDERBEEK</a>
      </div>
      <div class="rule"></div>
    </header>

   <main class="masonry" aria-label="DJ sets">
      <div id="col-a" class="masonry-col">
        <div class="card intro tilt-1">
          <div class="label" data-i18n="dj_label">YAK</div>
          <div class="meta" data-i18n="dj_meta">YAK</div>
        </div>
      </div>

      <div id="col-b" class="masonry-col">
        <div class="card player tilt-2">
          <div>
            <div class="label">FILTER</div>
            <div class="meta">genres</div>
            <div class="tags" id="filters-root" aria-label="Filter sets"></div>
          </div>
        </div>
      </div>
    </main>


    <footer>
      <a class="pill" href="music.html" data-i18n="pill_music">MUZIEK</a>
      <a class="pill" href="home.html" data-i18n="pill_home">HOME</a>
      <a class="pill" href="#" id="contactLink" data-i18n="pill_contact">CONTACT</a>
    </footer>
  </div>

  <script>
    // Theme: follow OS by default (auto). If you ever add a manual theme switch, store it as "theme".
    (function(){
      var savedTheme = localStorage.getItem("theme");
      document.documentElement.setAttribute("data-theme", savedTheme || "auto");
    })();

    /*
      EDIT HERE: add / remove mixes in one place.

      Each item supports:
      - title: { nl: "...", en: "..." }
      - desc:  { nl: "...", en: "..." }  (optional)
      - url: SoundCloud set/track url
    */
    var MIXES = [
      
      {
        title: { nl: "Radio Radio FM — 18.12.2025", en: "Radio Radio FM — 18.12.2025" },
        // desc:  { nl: "Progressive- en trance house.", en: "Progressive- en trance house." },
        tags:  ["progressive", "trance house"],
        url:   "https://soundcloud.com/radioradiofm/rrfm-o-yak-o-18-12-2025",
        tilt:  "tilt-2"
      },
      {
        title: { nl: "Radio TNP — 15.11.2024", en: "Radio TNP — 15.11.2024" },
        // desc:  { nl: "slow jams, groove en balearica", en: "slow jams, groove and balearica" },
        tags:  ["slow jams", "groove", "balearica"],
        url:   "https://soundcloud.com/radiotemponaopara/yak-15-11-2024",
        tilt:  "tilt-1"
      },
      {
        title: { nl: "Radio Radio FM — 22.01.2025", en: "Radio Radio FM — 22.01.2025" },
        // desc:  { nl: "Progressive- en trance house.", en: "Progressive- en trance house." },
        tags:  ["progressive", "trance house"],
        url:   "https://soundcloud.com/radioradiofm/rrfm-yak-22-01-2025",
        tilt:  "tilt-2"
      },
      {
        title: { nl: "Studio \\K — 26.01.2024", en: "Studio \\K — 26.01.2024" },
        // desc:  { nl: "Progressive- en 90s house", en: "Progressive- and 90s house" },
        tags:  ["progressive", "90s house"],
        url:   "https://soundcloud.com/ditisstudiok/yak-26012024",
        tilt:  "tilt-2"
      },
      {
        title: { nl: "Slim Radio — 02.04.2024", en: "Slim Radio — 02.04.2024" },
        tags:  ["dub", "slow jams", "mid tempo"],
        url:   "https://soundcloud.com/slimradio/floating-on-the-groove-with-yak-020424",
        tilt:  "tilt-1"
      },
      {
        title: { nl: "Radio TNP — 03.09.2022", en: "Radio TNP — 03.09.2022" },
        // desc:  { nl: "World en funk; Mijn allereerste radio show :——)", en: "World and funk; My very first radio show :——)" },
        tags:  ["world", "groove", "radio debut"],
        url:   "https://soundcloud.com/radiotemponaopara/yak-03-09-2022",
        tilt:  "tilt-1"
      },
      {
        title: { nl: "Slim Radio — 20.02.2024", en: "Slim Radio — 20.02.2024" },
        tags:  ["dub", "ambient", "mid tempo"],
        url:   "https://soundcloud.com/slimradio/floating-on-the-groove-200224",
        tilt:  "tilt-1"
      },
      {
        title: { nl: "Radio 80000 — 10.09.2024", en: "Radio 80000 — 10.09.2024" },
        // desc:  { nl: "House en stampot bij de daklozenopvang", en: "House and 'stampot' at the homeless shelter" },
        tags:  ["90s house", "stampot"],
        url:   "https://soundcloud.com/radio80000/appetizer-w-yak-yagel-100924",
        tilt:  "tilt-3"
      }
    ];

    function scEmbedSrc(soundcloudUrl){
      // SoundCloud expects the URL in a query param. Use encodeURIComponent to be safe.
      var encoded = encodeURIComponent(soundcloudUrl);
      // Keep colors neutral (black/white) and avoid autoplay.
      return "https://w.soundcloud.com/player/?url=" + encoded +
        "&color=%23111111&auto_play=false&hide_related=true&show_comments=false" +
        "&show_user=true&show_reposts=false&show_teaser=true&visual=false";
    }

    var activeTags = new Set(["all"]);

    function renderFilters(lang){
      var root = document.getElementById("filters-root");
      if(!root) return;

      // collect unique tags
      var tagSet = new Set();
      MIXES.forEach(function(m){
        (m.tags || []).forEach(function(t){
          if(t && String(t).trim()) tagSet.add(String(t).trim());
        });
      });

      var allTags = ["all"].concat(Array.from(tagSet).sort());
      root.innerHTML = "";

      allTags.forEach(function(tag){
        var btn = document.createElement("button");
        btn.type = "button";
        btn.className = "tag tag-btn";
        btn.textContent = tag;

        var isActive = activeTags.has(tag);
        btn.setAttribute("aria-pressed", isActive ? "true" : "false");

        // add visual selected class (Safari-proof)
        btn.classList.toggle("is-selected", isActive);

        btn.addEventListener("click", function(){
          if(tag === "all"){
            // hard reset
            activeTags = new Set(["all"]);
          } else {
            // leaving "all" mode as soon as you pick a real tag
            if(activeTags.has("all")) activeTags.delete("all");

            // toggle tag
            if(activeTags.has(tag)) activeTags.delete(tag);
            else activeTags.add(tag);

            // if nothing selected anymore, fallback to all
            if(activeTags.size === 0) activeTags.add("all");
          }
          renderFilters(lang);
          renderMixes(lang);
        });

        root.appendChild(btn);
      });
    }

    function renderMixes(lang){
      var colA = document.getElementById('col-a');
      if(!colA) return;
      var colB = document.getElementById('col-b');
      if(!colB) return;

      // clear old mixes
      document.querySelectorAll('[data-mix-card="1"]').forEach(el => el.remove());

      var isAll = activeTags.has("all");
      var wanted = Array.from(activeTags); // selected tags

      MIXES
        .filter(function(m){
          if(isAll) return true;

          var tags = (m.tags || []);
          // OR logic: show if mix contains at least one selected tag
          for(var i=0; i<wanted.length; i++){
            if(tags.includes(wanted[i])) return true;
          }
          return false;
        })
        .forEach(function(m){
          var card = document.createElement("div");
          card.setAttribute("data-mix-card", "1");
          card.className = "card player " + (m.tilt || "") + " " + (m.size || "");

          var title = (m.title && (m.title[lang] || m.title.nl)) || "Mix";
          var tags = (m.tags || []);

          card.innerHTML =
            '<div>' +
              '<div class="label">' + escapeHtml(title) + '</div>' +
              '<div class="meta">soundcloud</div>' +
              (tags.length
                ? '<div class="tags">' + tags.map(function(t){
                    return '<span class="tag">' + escapeHtml(t) + '</span>';
                  }).join('') + '</div>'
                : ''
              ) +
              '<div class="embed ' + (m.size || "") + '">' +
                '<iframe loading="lazy" allow="autoplay" src="' + scEmbedSrc(m.url) + '"></iframe>' +
              '</div>' +
            '</div>';
          
        var isMobile = window.matchMedia("(max-width: 760px)").matches;

        if(isMobile){
          colA.appendChild(card);     // alles onder elkaar in col-a
        }else{
          ((colA.offsetHeight <= colB.offsetHeight) ? colA : colB).appendChild(card);
        }
        });
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // Language toggle (nl/en) + translate static bits + re-render mixes
    (function(){
      var dict = {
        nl: {
          name: "YA'GEL SCHOONDERBEEK",
          dj_label: "YAK",
          dj_meta: "onder deze DJ-alias draai allerlei platen op plekken als Landjuweel festival, zuiderzeeweg, kanaal40, kriterion of radio radio\n\n hier is een selectie van mijn online sets",
          pill_home: "HOME",
          pill_music: "MUZIEK"
        },
        en: {
          name: "YA'GEL SCHOONDERBEEK",
          dj_label: "YAK",
          dj_meta: "under this dj-alias, i play all kinds of tunes at places like Landjuweel festival, zuiderzeeweg, kanaal40, kriterion or radio radio\n\nhere is a selection of my online sets",
          pill_home: "HOME",
          pill_music: "MUSIC"
        }
      };

      function applyLang(lang){
        var pack = dict[lang] || dict.nl;

        // DOM state (for CSS hooks)
        document.documentElement.lang = lang;
        document.documentElement.setAttribute("data-lang", lang);

        // Text replacements
        document.querySelectorAll("[data-i18n]").forEach(function(el){
          var key = el.getAttribute("data-i18n");
          if(pack[key]) el.textContent = pack[key];
        });

        // Toggle button state
        document.querySelectorAll(".lang-btn").forEach(function(btn){
          btn.setAttribute(
            "aria-pressed",
            btn.getAttribute("data-lang") === lang ? "true" : "false"
          );
        });

        // Persistence across pages
        localStorage.setItem("yagel_lang", lang);
      }


      var initial = localStorage.getItem("yagel_lang") || document.documentElement.lang || "nl";
      if(!dict[initial]) initial = "nl";

      // render once on load
      applyLang(initial);
      renderFilters(initial);
      renderMixes(initial);

      document.querySelectorAll(".lang-btn").forEach(function(btn){
        btn.addEventListener("click", function(){
          applyLang(btn.getAttribute("data-lang"));
          // renderFilters("data-lang");
          // renderMixes("data-lang");
        });
      });
    })();
  </script>

  <script>
    (function () {
      const user = "yagelschoonderbeek";
      const domain = "gmail.com";
      const link = document.getElementById("contactLink");

      if (!link) return;

      link.addEventListener("click", function (e) {
        e.preventDefault();
        window.location.href = "mailto:" + user + "@" + domain;
      });
    })();
  </script>
</body>
</html>
